(this["webpackJsonpreact-app"]=this["webpackJsonpreact-app"]||[]).push([[0],{111:function(e,t,n){"use strict";var r=n(215),a=n.n(r),c=n(216),o=n.n(c),u=n(0),i=n.n(u);t.a=function(e){return i.a.createElement("div",{className:o.a.preloader},i.a.createElement("img",{src:a.a}))}},112:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return a}));var r=function(e){if(!e)return"Field is required"},a=function(e){return function(t){if(t&&t.length>e)return"Max length is ".concat(e," symbols")}}},126:function(e,t,n){e.exports={user:"Users_user__2hVeY",imgButtonBlock:"Users_imgButtonBlock__2Fyih",fullname:"Users_fullname__F9z4_",location:"Users_location__4pMTw"}},127:function(e,t,n){e.exports={header:"Header_header__1LA_G",loginBlock:"Header_loginBlock__2T7b5",login:"Header_login__3T69A"}},155:function(e,t,n){e.exports={paginator:"Paginator_paginator__z1lzI",selectedPage:"Paginator_selectedPage__3i25Y",pageN:"Paginator_pageN__1mtpf"}},161:function(e,t,n){"use strict";n.d(t,"a",(function(){return h})),n.d(t,"c",(function(){return b})),n.d(t,"d",(function(){return E})),n.d(t,"g",(function(){return g})),n.d(t,"e",(function(){return v})),n.d(t,"f",(function(){return O}));var r=n(12),a=n.n(r),c=n(31),o=n(79),u=n(6),i=n(63),s=n(61),l=n(71),f="network/profile/ADD_POST",d="network/profile/SET_USER_PROFILE",m="network/profile/SET_STATUS",p={posts:[{id:1,message:"Hi",likesCount:10},{id:2,message:"How are you?",likesCount:10},{id:3,message:"Youoyo",likesCount:5}],profile:null,updateProfileSuccess:!1,status:""},h={addPostActionCreator:function(e){return{type:f,newPostText:e}},setUserProfileAC:function(e){return{type:d,profile:e}},setStatus:function(e){return{type:m,status:e}},savePhotoSuccess:function(e){return{type:"network/profile/SAVE_PHOTO_SUCCESS",photos:e}},updateProfileDataSuccess:function(){return{type:"network/profile/UPDATE_PROFILE_DATA_SUCCESS",isSuccess:!0}},updateProfileDataSuccessDrop:function(){return{type:"network/profile/UPDATE_PROFILE_DATA_SUCCESS",isSuccess:!1}}},b=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n){var r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.a.getProfile(e);case 2:r=t.sent,n(h.setUserProfileAC(r));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},E=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n){var r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.a.getStatus(e);case 2:r=t.sent,n(h.setStatus(r));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},g=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.a.updateStatus(e);case 2:0===t.sent.resultCode&&n(h.setStatus(e));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},v=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n){var r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.a.savePhoto(e);case 2:0===(r=t.sent).resultCode&&n(h.savePhotoSuccess(r.data.photos));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},O=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n,r){var c,o;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=r().auth.userId,t.next=3,l.a.updateProfileData(e);case 3:if(0!==(o=t.sent).resultCode){t.next=14;break}if(n(h.updateProfileDataSuccess()),null==c){t.next=10;break}n(b(c)),t.next=11;break;case 10:throw new Error("userId can`t be null");case 11:n(h.updateProfileDataSuccessDrop()),t.next=15;break;case 14:n(Object(i.a)("profileForm",{_error:o.messages[0]}));case 15:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:var n=t.newPostText,r={id:4,message:n,likesCount:0};return Object(u.a)(Object(u.a)({},e),{},{posts:[].concat(Object(o.a)(e.posts),[r])});case d:return Object(u.a)(Object(u.a)({},e),{},{profile:t.profile});case m:return Object(u.a)(Object(u.a)({},e),{},{status:t.status});case"network/profile/SAVE_PHOTO_SUCCESS":return Object(u.a)(Object(u.a)({},e),{},{profile:Object(u.a)(Object(u.a)({},e.profile),{},{photos:t.photos})});case"network/profile/UPDATE_PROFILE_DATA_SUCCESS":return Object(u.a)(Object(u.a)({},e),{},{updateProfileSuccess:t.isSuccess});default:return e}}},171:function(e,t,n){e.exports=n.p+"static/media/user.c1c6129c.png"},19:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return r}));var r,a,c=n(214),o=n.n(c).a.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"1d81b50b-fdd8-41d0-b074-a7b4304f92be"}});!function(e){e[e.Success=0]="Success",e[e.Error=1]="Error",e[e.CaptchaIsRequired=10]="CaptchaIsRequired"}(r||(r={})),function(e){e[e.CaptchaIsRequired=10]="CaptchaIsRequired"}(a||(a={}))},200:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(79),a=n(6),c="network/dialogs/SEND_MESSAGE",o={messages:[{id:1,message:"HIiiii"},{id:2,message:"How are you?"},{id:3,message:"Youoyo"}],dialogs:[{id:1,name:"Yana"},{id:2,name:"Nika"},{id:3,name:"Dima"}]},u={sendMessage:function(e){return{type:c,newMessageBody:e}}};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case c:var n=t.newMessageBody;return Object(a.a)(Object(a.a)({},e),{},{messages:[].concat(Object(r.a)(e.messages),[{id:6,message:n}])});default:return e}}},215:function(e,t,n){e.exports=n.p+"static/media/preloader.cb55ad9b.svg"},216:function(e,t,n){e.exports={preloader:"preloader_preloader__2Qsfh"}},217:function(e,t,n){e.exports=n.p+"static/media/dzone.5589eda2.svg"},246:function(e,t,n){e.exports=n(401)},253:function(e,t,n){},401:function(e,t,n){"use strict";n.r(t);n(247),n(248);var r=n(17),a=n.n(r),c=n(0),o=n.n(c);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var u=n(109),i=n(110),s=n(115),l=n(114),f=n(403),d=(n(253),n(50)),m=n.n(d),p=n(34),h=n(404),b=n(406),E=n(407),g=n(408),v=n(409),O=function(){return o.a.createElement(f.a.Sider,{className:m.a.navbar,width:200},o.a.createElement(h.a,{theme:"dark",defaultSelectedKeys:["1"],mode:"inline"},o.a.createElement(h.a.Item,{key:"1",icon:o.a.createElement(b.a,null)},o.a.createElement("span",{className:m.a.item},o.a.createElement(p.b,{to:"/profile",activeClassName:m.a.active},"Profile"))),o.a.createElement(h.a.Item,{key:"2",icon:o.a.createElement(E.a,null)},o.a.createElement("span",{className:m.a.item},o.a.createElement(p.b,{to:"/dialogs",activeClassName:m.a.active},"Message"))),o.a.createElement(h.a.Item,{key:"3",icon:o.a.createElement(g.a,null)},o.a.createElement("span",{className:m.a.item},o.a.createElement(p.b,{to:"/users",activeClassName:m.a.active},"Users"))),o.a.createElement(h.a.Item,{key:"4",icon:o.a.createElement(v.a,null)},o.a.createElement("span",{className:m.a.item},o.a.createElement(p.b,{to:"/m",activeClassName:m.a.active},"News")))))},w=n(18),_=n(16),S=n(162),j=n(155),k=n.n(j),C=function(e){for(var t=e.totalItemsCount,n=e.pageSize,r=e.portionSize,a=e.onPageChanged,u=e.currentPage,i=Math.ceil(t/n),s=[],l=1;l<=i;l++)s.push(l);var f=Math.ceil(i/r),d=Object(c.useState)(1),m=Object(S.a)(d,2),p=m[0],h=m[1],b=(p-1)*r,E=p*r;return o.a.createElement("div",{className:k.a.paginator},p>1&&o.a.createElement("button",{onClick:function(){return h(p-1)}},"Previous"),s.filter((function(e){return e>=b&&e<=E})).map((function(e){return o.a.createElement("span",{className:u===e?k.a.selectedPage:"",key:e,onClick:function(t){a(e)}},e)})),f>p&&o.a.createElement("button",{onClick:function(){return h(p+1)}},"Next"))},y=n(126),P=n.n(y),I=n(171),T=n.n(I),U=function(e){var t=e.user,n=e.followingIsProgress,r=e.follow,a=e.unfollow;return o.a.createElement("div",null,o.a.createElement("div",{className:P.a.imgButtonBlock},o.a.createElement(p.b,{to:"/profile/"+t.id},o.a.createElement("img",{src:null!=t.photos.small?t.photos.small:T.a})),o.a.createElement("div",null,t.followed?o.a.createElement("button",{disabled:n.some((function(e){return e===t.id})),onClick:function(){return a(t.id)}},"unfollow"):o.a.createElement("button",{disabled:n.some((function(e){return e===t.id})),onClick:function(){return r(t.id)}},"follow"))),o.a.createElement("div",{className:P.a.fullname},o.a.createElement("div",null,t.name),o.a.createElement("div",null,t.status)),o.a.createElement("div",{className:P.a.location},o.a.createElement("div",null,"u.location.city"),o.a.createElement("div",null,"u.location.country")))},x=n(99),N=function(e){return{}},A=o.a.memo((function(e){var t=e.onFilterChanged,n=e.isFetching;return o.a.createElement("div",null,o.a.createElement(x.c,{initialValues:{term:"",friend:"null"},validate:N,onSubmit:function(e){var n={term:e.term,friend:"null"===e.friend?null:"true"===e.friend};t(n)}},(function(e){return o.a.createElement(x.b,null,o.a.createElement(x.a,{type:"text",name:"term"}),o.a.createElement(x.a,{as:"select",name:"friend"},o.a.createElement("option",{value:"null"},"All"),o.a.createElement("option",{value:"true"},"Followed"),o.a.createElement("option",{value:"false"},"Unfollowed")),o.a.createElement("button",{type:"submit",disabled:n},"Find"))})))})),F=n(12),L=n.n(F),R=n(31),D=n(79),z=n(6),G=function(e,t,n,r){return e.map((function(e){return e[n]===t?Object(z.a)(Object(z.a)({},e),r):e}))},M=n(61),B="network/users/FOLLOW",H="network/users/UNFOLLOW",W="network/users/SET_USERS",q="network/users/SET_FILTER",Y={users:[],pageSize:10,totalUsersCount:21,currentPage:1,isFetching:!0,followingIsProgress:[],filter:{term:"",friend:null}},V=function(e){return{type:B,userId:e}},J=function(e){return{type:H,userId:e}},K=function(e){return{type:W,users:e}},X=function(e){return{type:"network/users/SET_CURRENT_PAGE",pageNumber:e}},Z=function(e){return{type:q,filter:e}},Q=function(e){return{type:"network/users/SET_TOTAL_USERS_COUNT",count:e}},$=function(e){return{type:"network/users/TOGGLE_IS_FETCHING",isFetching:e}},ee=function(e,t){return{type:"network/users/TOGGLE_IS_FOLLOWING_PROGRESS",isFetching:e,userId:t}},te=function(e,t,n){return function(){var r=Object(R.a)(L.a.mark((function r(a){var c;return L.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a($(!0)),a(X(e)),a(Z(n)),r.next=5,M.a.getUsers(e,t,n);case 5:c=r.sent,a($(!1)),a(K(c.items)),a(Q(c.totalCount));case 9:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()},ne=function(){var e=Object(R.a)(L.a.mark((function e(t,n,r,a){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(ee(!0,n)),e.next=3,r(n);case 3:0===e.sent.resultCode&&t(a(n)),t(ee(!1,n));case 6:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case B:return Object(z.a)(Object(z.a)({},e),{},{users:G(e.users,t.userId,"id",{followed:!0})});case H:return Object(z.a)(Object(z.a)({},e),{},{users:G(e.users,t.userId,"id",{followed:!1})});case W:return Object(z.a)(Object(z.a)({},e),{},{users:t.users});case"network/users/SET_CURRENT_PAGE":return Object(z.a)(Object(z.a)({},e),{},{currentPage:t.pageNumber});case q:return Object(z.a)(Object(z.a)({},e),{},{filter:t.filter});case"network/users/SET_TOTAL_USERS_COUNT":return Object(z.a)(Object(z.a)({},e),{},{totalUsersCount:t.count});case"network/users/TOGGLE_IS_FETCHING":return Object(z.a)(Object(z.a)({},e),{},{isFetching:t.isFetching});case"network/users/TOGGLE_IS_FOLLOWING_PROGRESS":return Object(z.a)(Object(z.a)({},e),{},{followingIsProgress:t.isFetching?[].concat(Object(D.a)(e.followingIsProgress),[t.userId]):e.followingIsProgress.filter((function(e){return e!=t.userId}))});default:return e}},ae=function(e){return e.usersPage.users},ce=function(e){return e.usersPage.pageSize},oe=function(e){return e.usersPage.totalUsersCount},ue=function(e){return e.usersPage.currentPage},ie=function(e){return e.usersPage.isFetching},se=function(e){return e.usersPage.followingIsProgress},le=function(e){return e.usersPage.filter},fe=function(e){var t=Object(_.d)(ae),n=Object(_.d)(ue),r=Object(_.d)(oe),a=Object(_.d)(ce),u=Object(_.d)(le),i=Object(_.d)(se),s=Object(_.c)();Object(c.useEffect)((function(){s(te(n,a,{term:"",friend:null}))}),[]);var l=function(e){s(function(e){return function(){var t=Object(R.a)(L.a.mark((function t(n){return L.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ne(n,e,M.a.follow.bind(M.a),V);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(e))},f=function(e){s(function(e){return function(){var t=Object(R.a)(L.a.mark((function t(n){return L.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ne(n,e,M.a.unfollow.bind(M.a),J);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(e))};return o.a.createElement("div",null,o.a.createElement(A,{onFilterChanged:function(e){s(te(1,a,e))},isFetching:e.isFetching}),o.a.createElement(C,{currentPage:n,portionSize:10,onPageChanged:function(e){s(X(e)),s(te(e,a,u))},totalItemsCount:r,pageSize:a}),t.map((function(e){return o.a.createElement(U,{user:e,followingIsProgress:i,follow:l,unfollow:f,key:e.id})})))},de=n(111),me=function(e){var t=Object(_.d)(ie);return o.a.createElement(o.a.Fragment,null,o.a.createElement("h2",null,e.title),t?o.a.createElement(de.a,null):null,o.a.createElement("div",null,o.a.createElement(fe,{isFetching:t})))},pe=n(217),he=n.n(pe),be=n(127),Ee=n.n(be),ge=n(405),ve=function(e){return o.a.createElement("header",{className:Ee.a.header},o.a.createElement(f.a.Header,null,o.a.createElement(p.b,{to:"/profile",activeClassName:"navbar-brand"},o.a.createElement("img",{src:he.a,width:"50",height:"50",className:"logo",alt:"logo",loading:"lazy"}),"Mirage"),o.a.createElement("div",{className:Ee.a.loginBlock},e.isAuth?o.a.createElement("div",null," ",o.a.createElement("span",{className:Ee.a.login},e.login),o.a.createElement(ge.a,{onClick:e.logout},"Log out")):o.a.createElement(p.b,{to:"/login"},"Login"))))},Oe=n(19),we=n(63),_e=function(){return Oe.b.get("auth/me").then((function(e){return e.data}))},Se=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3?arguments[3]:void 0;return Oe.b.post("auth/login",{email:e,password:t,rememberMe:n,captcha:r}).then((function(e){return e.data}))},je=function(){return Oe.b.delete("auth/login")},ke=function(){return Oe.b.get("security/get-captcha-url").then((function(e){return e.data}))},Ce="network/auth/SET_USER_DATA",ye={userId:null,email:null,login:null,isAuth:!1,captchaUrl:null},Pe=function(e,t,n,r){return{type:Ce,payload:{userId:e,email:t,login:n,isAuth:r}}},Ie=function(e){return{type:"network/auth/SET_CAPTCHA_URL",payload:{captchaUrl:e}}},Te=function(){return function(){var e=Object(R.a)(L.a.mark((function e(t){var n,r,a,c,o;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_e();case 2:(n=e.sent).resultCode===Oe.a.Success&&(r=n.data,a=r.id,c=r.email,o=r.login,t(Pe(a,c,o,!0)));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Ue=function(){return function(){var e=Object(R.a)(L.a.mark((function e(t){var n,r;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ke();case 2:n=e.sent,r=n.url,t(Ie(r));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},xe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ye,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ce:case"network/auth/SET_CAPTCHA_URL":return Object(z.a)(Object(z.a)({},e),t.payload);default:return e}},Ne=function(e){Object(s.a)(n,e);var t=Object(l.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(ve,this.props))}}]),n}(o.a.Component),Ae=Object(_.b)((function(e){return{isAuth:e.auth.isAuth,login:e.auth.login}}),{logout:function(){return function(){var e=Object(R.a)(L.a.mark((function e(t){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,je();case 2:e.sent.data.resultCode===Oe.a.Success&&t(Pe(null,null,null,!1));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})(Ne),Fe=n(201),Le=n(52),Re=n(112),De=n(87),ze=n.n(De),Ge=Object(Fe.a)({form:"login"})((function(e){var t=e.handleSubmit,n=e.error,r=e.captchaUrl;return o.a.createElement("form",{onSubmit:t},Object(Le.c)("login","email",[Re.b],Le.a,""),Object(Le.c)("password","password",[Re.b],Le.a,"password"),Object(Le.c)(void 0,"rememberMe",[],Le.a,"checkbox",{},"remember me"),r&&o.a.createElement("img",{src:r}),r&&Object(Le.c)("Symbols of captcha","captcha",[Re.b],Le.a,""),n&&o.a.createElement("div",{className:ze.a.formSummaryError}," ",n),o.a.createElement("div",null,o.a.createElement("button",null,"Login")))})),Me=function(e){var t=Object(_.d)((function(e){return e.auth.isAuth})),n=Object(_.d)((function(e){return e.auth.captchaUrl})),r=Object(_.c)();return t?o.a.createElement(w.a,{to:"/profile"}):o.a.createElement("div",null,o.a.createElement("h1",null,"Login"),o.a.createElement(Ge,{onSubmit:function(e){var t,n,a,c;r((t=e.email,n=e.password,a=e.rememberMe,c=e.captcha,function(){var e=Object(R.a)(L.a.mark((function e(r){var o,u;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Se(t,n,a,c);case 2:(o=e.sent).resultCode===Oe.a.Success?r(Te()):(o.resultCode===Oe.a.CaptchaIsRequired&&r(Ue()),u=o.messages.length>0?o.messages[0]:"some error",r(Object(we.a)("login",{_error:u})));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))},captchaUrl:n}))},Be=n(15),He={initialized:!1},We=function(){return{type:"network/app/INITIALIZED_SUCCESS"}},qe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:He,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"network/app/INITIALIZED_SUCCESS":return Object(z.a)(Object(z.a)({},e),{},{initialized:!0});default:return e}},Ye=n(200),Ve=n(161),Je={},Ke=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Je;return e},Xe=n(219),Ze=n(202),Qe=Object(Be.c)({dialogsPage:Ye.b,profilePage:Ve.b,sidebarReducer:Ke,usersPage:re,auth:xe,form:Ze.a,app:qe}),$e=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Be.d,et=Object(Be.e)(Qe,$e(Object(Be.a)(Xe.a)));window.store=et;var tt=et;function nt(e){return function(t){return o.a.createElement(o.a.Suspense,{fallback:o.a.createElement("div",null,"loading...")},o.a.createElement(e,t))}}var rt=function(){return o.a.createElement(f.a.Footer,null,"Footer")},at=o.a.lazy((function(){return n.e(4).then(n.bind(null,417))})),ct=o.a.lazy((function(){return n.e(3).then(n.bind(null,416))})),ot=nt(at),ut=nt(ct),it=function(e){Object(s.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(u.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).catchAllUnhandledErrors=function(e){alert("SOme error occured"),console.error(e)},e}return Object(i.a)(n,[{key:"componentDidMount",value:function(){window.addEventListener("unhandledrejection",this.catchAllUnhandledErrors),this.props.initializeApp()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("unhandledrejection",this.catchAllUnhandledErrors)}},{key:"render",value:function(){return this.props.initialized?o.a.createElement(f.a,null,o.a.createElement(Ae,null),o.a.createElement(f.a,null,o.a.createElement(O,null),o.a.createElement(f.a.Content,null,o.a.createElement(w.d,null,o.a.createElement(w.b,{exact:!0,path:"/",render:function(){return o.a.createElement(w.a,{to:"/profile"})}}),o.a.createElement(w.b,{path:"/dialogs",render:function(){return o.a.createElement(ot,null)}}),o.a.createElement(w.b,{path:"/profile/:userId?",render:function(){return o.a.createElement(ut,null)}}),o.a.createElement(w.b,{path:"/users",render:function(){return o.a.createElement(me,{title:"Users"})}}),o.a.createElement(w.b,{path:"/login",render:function(){return o.a.createElement(Me,null)}}),o.a.createElement(w.b,{path:"*",render:function(){return o.a.createElement("div",null,"404 NOT FOUND")}})))),o.a.createElement(rt,null)):o.a.createElement(de.a,null)}}]),n}(o.a.Component),st=Object(Be.d)(w.g,Object(_.b)((function(e){return{initialized:e.app.initialized}}),{initializeApp:function(){return function(e){e(Te()).then((function(){return e(We())}))}}}))(it),lt=function(){return o.a.createElement(p.a,null,o.a.createElement(_.a,{store:tt},o.a.createElement(st,null)))};a.a.render(o.a.createElement(lt,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},50:function(e,t,n){e.exports={navbar:"Navbar_navbar__2UfJ3",item:"Navbar_item__2OT8x",active:"Navbar_active__2hWB8"}},52:function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return f})),n.d(t,"c",(function(){return d}));var r=n(146),a=n(0),c=n.n(a),o=n(87),u=n.n(o),i=n(149),s=function(e){var t=e.meta,n=e.children,r=t.touched&&t.error;return c.a.createElement("div",{className:u.a.formControl+" "+(r?u.a.error:"")},c.a.createElement("div",null,n),r&&c.a.createElement("span",null,t.error))},l=function(e){var t=e.input,n=(e.meta,Object(r.a)(e,["input","meta"]));return c.a.createElement(s,e,c.a.createElement("textarea",Object.assign({},t,n)))},f=function(e){var t=e.input,n=(e.meta,Object(r.a)(e,["input","meta"]));return c.a.createElement(s,e,c.a.createElement("input",Object.assign({},t,n)))};function d(e,t,n,r,a){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"";return c.a.createElement("div",null,c.a.createElement(i.a,Object.assign({placeholder:e,name:t,validate:n,component:r,type:a},o)),u)}},61:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(19),a=n(71),c={getUsers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=arguments.length>2?arguments[2]:void 0,a=n.term?"&term=".concat(n.term):"",c=null!==n.friend&&void 0!==n.friend?"&friend=".concat(n.friend):"";return r.b.get("users?page=".concat(e,"&count=").concat(t)+a+c).then((function(e){return e.data}))},follow:function(e){return r.b.post("follow/".concat(e)).then((function(e){return e.data}))},unfollow:function(e){return r.b.delete("follow/".concat(e)).then((function(e){return e.data}))},getProfile:function(e){return console.warn("Obsolete method. Please profileApi object"),a.a.getProfile(e)}}},71:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(19),a={getProfile:function(e){return r.b.get("profile/".concat(e)).then((function(e){return e.data}))},getStatus:function(e){return r.b.get("profile/status/".concat(e)).then((function(e){return e.data}))},updateStatus:function(e){return r.b.put("profile/status",{status:e}).then((function(e){return e.data}))},savePhoto:function(e){var t=new FormData;return t.append("image",e),r.b.put("/profile/photo",t,{headers:{"Content-Type":"multipart//form-data"}}).then((function(e){return e.data}))},updateProfileData:function(e){return r.b.put("/profile",e).then((function(e){return e.data}))}}},87:function(e,t,n){e.exports={formControl:"FormControls_formControl__gMG4i",error:"FormControls_error__R5utC",formSummaryError:"FormControls_formSummaryError__3lvq1"}}},[[246,1,2]]]);
//# sourceMappingURL=main.7c259c78.chunk.js.map