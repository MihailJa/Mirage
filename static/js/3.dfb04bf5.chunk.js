(this["webpackJsonpreact-app"]=this["webpackJsonpreact-app"]||[]).push([[3],{221:function(e,t,a){"use strict";var n=a(25),r=a.n(n),o=a(40),i=a.n(o),s=a(0),c=a.n(s),u=a(3),l=a.n(u),p=a(66),m=function(e){function t(t){var a;if(a=e.call(this,t)||this,!t._reduxForm)throw new Error("Form must be inside a component decorated with reduxForm()");return a}i()(t,e);var a=t.prototype;return a.UNSAFE_componentWillMount=function(){this.props._reduxForm.registerInnerOnSubmit(this.props.onSubmit)},a.render=function(){var e=this.props,t=(e._reduxForm,r()(e,["_reduxForm"]));return c.a.createElement("form",t)},t}(s.Component);m.propTypes={onSubmit:l.a.func.isRequired,_reduxForm:l.a.object},t.a=Object(p.b)(m)},222:function(e,t,a){"use strict";var n=a(88),r=a.n(n),o=a(11);t.a=function(e){var t=e.getIn;return function(e,a){r()(e,"Form value must be specified");var n=a||function(e){return t(e,"form")};return function(a){for(var i=arguments.length,s=new Array(i>1?i-1:0),c=1;c<i;c++)s[c-1]=arguments[c];return r()(s.length,"No fields specified"),1===s.length?t(n(a),e+".values."+s[0]):s.reduce((function(r,i){var s=t(n(a),e+".values."+i);return void 0===s?r:o.a.setIn(r,i,s)}),{})}}}(o.a)},411:function(e,t,a){"use strict";a.d(t,"a",(function(){return u}));var n=a(146),r=a(18),o=a(0),i=a.n(o),s=a(16),c=function(e){return{isAuth:e.auth.isAuth}};function u(e){return Object(s.b)(c)((function(t){var a=t.isAuth,o=Object(n.a)(t,["isAuth"]);return a?i.a.createElement(e,o):i.a.createElement(r.a,{to:"/login"})}))}},412:function(e,t,a){e.exports={profileData:"DescriptionProfileData_profileData__2DRo0"}},413:function(e,t,a){e.exports={profile:"Profile_profile__1-lc5"}},414:function(e,t,a){e.exports={container:"DescriptionProfile_container__1r8rv",description:"DescriptionProfile_description__2tT6k",mainPhoto:"DescriptionProfile_mainPhoto__1WLjq",input:"DescriptionProfile_input__1LKRn",inputFile:"DescriptionProfile_inputFile__3H88w"}},415:function(e,t,a){e.exports={post:"Post_post__BSg01"}},416:function(e,t,a){"use strict";a.r(t);var n=a(109),r=a(110),o=a(115),i=a(114),s=a(0),c=a.n(s),u=a(413),l=a.n(u),p=a(162),m=a(414),f=a.n(m),d=a(111),b=function(e){var t=Object(s.useState)(!1),a=Object(p.a)(t,2),n=a[0],r=a[1],o=Object(s.useState)(e.status),i=Object(p.a)(o,2),u=i[0],l=i[1];Object(s.useEffect)((function(){l(e.status)}),[e.status]);return c.a.createElement("div",null,!n&&c.a.createElement("div",null,c.a.createElement("span",{onDoubleClick:function(){r(!0)}},e.status||"-----")),n&&c.a.createElement("div",null,c.a.createElement("input",{onChange:function(e){l(e.currentTarget.value)},autoFocus:!0,onBlur:function(){r(!1),e.updateUserStatus(u)},value:u})))},h=a(171),v=a.n(h),E=a(412),g=a.n(E),P=function(e){var t=e.contactTitle,a=e.contactValue;return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:g.a.contact},c.a.createElement("b",null,t),": ",a))},j=function(e){var t=e.profile,a=e.onEditClick;return c.a.createElement("div",{className:g.a.profileData},c.a.createElement("button",{onClick:a},"Edit"),c.a.createElement("div",null,"Full name: ",t.fullName),c.a.createElement("div",null,"Looking for a job: ",t.lookingForAJob?"Yes":"No"),t.lookingForAJob&&c.a.createElement("div",null,"My professional skills: ",t.lookingForAJobDescription),c.a.createElement("div",null,"About me: ",t.aboutMe),c.a.createElement("div",null,"Contacts:",Object.keys(t.contacts).map((function(e){return c.a.createElement(P,{key:e,contactTitle:e,contactValue:t.contacts[e]})}))))},O=a(221),k=a(201),S=a(222),_=a(52),F=a(16),A=a(87),D=a.n(A),y=function(e){var t=e.handleSubmit,a=e.hasLookingJob,n=e.profile,r=e.error;return c.a.createElement(O.a,{onSubmit:t},c.a.createElement("button",{type:"submit"},"Submit"),r&&c.a.createElement("div",{className:D.a.formSummaryError}," ",r),c.a.createElement("div",null,"Full name:",Object(_.c)("name","fullName",[],_.a,"","")),c.a.createElement("div",null,"Looking for a job:",Object(_.c)("","lookingForAJob",[],_.a,"checkbox","")),a&&c.a.createElement("div",null,"My professional skills:",Object(_.c)("name","lookingForAJobDescription",[],_.b,"","")),c.a.createElement("div",null,"About me:",Object(_.c)("name","aboutMe",[],_.b,"","")),c.a.createElement("div",null,"Contacts:",Object.keys(n.contacts).map((function(e){return c.a.createElement("div",{key:e,className:g.a.contact},c.a.createElement("b",null,e,": ")," ",Object(_.c)(e,"contacts.".concat(e),[],_.a,"",""))}))))},N=Object(k.a)({form:"profileForm"})(y),C=Object(S.a)("profileForm");y=Object(F.b)((function(e){return{hasLookingJob:C(e,"lookingForAJob")}}))(y);var U=N,w=function(e){var t=e.profile,a=e.status,n=e.updateUserStatus,r=e.isOwner,o=e.savePhoto,i=e.updateProfileData,u=e.updateProfileSuccess,l=Object(s.useState)(!1),m=Object(p.a)(l,2),h=m[0],E=m[1];Object(s.useEffect)((function(){E(!1)}),[u]);return t?c.a.createElement("div",{className:f.a.container},c.a.createElement("div",{className:f.a.mainPhoto},c.a.createElement("img",{src:t.photos.large||v.a,alt:"avatar"}),r&&c.a.createElement("div",{className:f.a.inputFile},c.a.createElement("label",{htmlFor:"file"},"Change photo",c.a.createElement("input",{className:f.a.input,type:"file",id:"file",onChange:function(e){var t;(null===(t=e.target.files)||void 0===t?void 0:t.length)&&o(e.target.files[0])}})," "))),c.a.createElement("div",{className:f.a.description},r&&h?c.a.createElement(U,{initialValues:t,onSubmit:function(e){i(e)},profile:t}):c.a.createElement(j,{profile:t,onEditClick:function(){E(!0)}}),c.a.createElement(b,{status:a,updateUserStatus:n}))):c.a.createElement(d.a,null)},x=a(161),J=a(415),T=a.n(J),I=function(e){return c.a.createElement("div",{className:T.a.post},c.a.createElement("img",{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcTjFuRKL7FBeTCFDumTAxgm3D7JtHmGeRo5ML4rTEKJq482e2T9&usqp=CAU"}),c.a.createElement("span",null,e.message),c.a.createElement("br",null),c.a.createElement("span",null,"likest:")," ",e.likesCount)},L=a(112),M=Object(L.a)(10),q=Object(k.a)({form:"profileAddNewPostForm"})((function(e){return c.a.createElement("form",{onSubmit:e.handleSubmit},Object(_.c)("Enter message","newPostText",[L.b,M],_.b,""),c.a.createElement("button",null,"Add"))})),R=c.a.memo((function(e){var t=e.posts.map((function(e){return c.a.createElement(I,{message:e.message,likesCount:e.likesCount})}));return c.a.createElement("div",null,c.a.createElement("div",null,"Posts+desc"),c.a.createElement("div",null,c.a.createElement(q,{onSubmit:function(t){e.addPost(t.newPostText)}})),t)})),B=Object(F.b)((function(e){return{posts:e.profilePage.posts}}),{addPost:x.a.addPostActionCreator})(R),K=function(e){return c.a.createElement("div",null,c.a.createElement("div",{className:l.a.profile},c.a.createElement(w,{profile:e.profile,status:e.status,updateUserStatus:e.updateUserStatus,isOwner:e.isOwner,savePhoto:e.savePhoto,updateProfileData:e.updateProfileData,updateProfileSuccess:e.updateProfileSuccess}),c.a.createElement(B,null)))},V=a(18),z=a(411),G=a(15),H=function(e){Object(o.a)(a,e);var t=Object(i.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"refreshProfile",value:function(){var e=+this.props.match.params.userId;e||(e=this.props.authorizedUserId)||this.props.history.push("/login"),this.props.getUserProfile(e),this.props.getUserStatus(e)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,t){e.match.params.userId!=this.props.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return c.a.createElement(K,Object.assign({},this.props,{profile:this.props.profile,status:this.props.status,updateUserStatus:this.props.updateUserStatus,isOwner:!this.props.match.params.userId,savePhoto:this.props.savePhoto}))}}]),a}(c.a.Component);t.default=Object(G.d)(z.a,V.g,Object(F.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,authorizedUserId:e.auth.userId,isAuth:e.auth.isAuth,updateProfileSuccess:e.profilePage.updateProfileSuccess}}),{getUserProfile:x.c,getUserStatus:x.d,updateUserStatus:x.g,savePhoto:x.e,updateProfileData:x.f}))(H)}}]);
//# sourceMappingURL=3.dfb04bf5.chunk.js.map